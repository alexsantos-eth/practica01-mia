-- SCHEMA: public;
GRANT ALL ON SCHEMA public TO PUBLIC;

GRANT ALL ON SCHEMA public TO postgres;

SET client_encoding = WIN1252;

/* TEMPORAL */
DROP TABLE IF EXISTS TempData CASCADE;

CREATE TABLE TempData (
  data_id SERIAL PRIMARY KEY,
  NOMBRE_CLIENTE VARCHAR(250),
  CORREO_CLIENTE VARCHAR(250),
  CLIENTE_ACTIVO VARCHAR(250),
  FECHA_CREACION VARCHAR(250),
  TIENDA_PREFERIDA VARCHAR(250),
  DIRECCION_CLIENTE VARCHAR(250),
  CODIGO_POSTAL_CLIENTE VARCHAR(250),
  CIUDAD_CLIENTE VARCHAR(250),
  PAIS_CLIENTE VARCHAR(250),
  FECHA_RENTA VARCHAR(250),
  FECHA_RETORNO VARCHAR(250),
  MONTO_A_PAGAR VARCHAR(250),
  FECHA_PAGO VARCHAR(250),
  NOMBRE_EMPLEADO VARCHAR(250),
  CORREO_EMPLEADO VARCHAR(250),
  EMPLEADO_ACTIVO VARCHAR(250),
  TIENDA_EMPLEADO VARCHAR(250),
  USUARIO_EMPLEADO VARCHAR(250),
  CONTRASENA_EMPLEADO VARCHAR(250),
  DIRECCION_EMPLEADO VARCHAR(250),
  CODIGO_POSTAL_EMPLEADO VARCHAR(250),
  CIUDAD_EMPLEADO VARCHAR(250),
  PAIS_EMPLEADO VARCHAR(250),
  NOMBRE_TIENDA VARCHAR(250),
  ENCARGADO_TIENDA VARCHAR(250),
  DIRECCION_TIENDA VARCHAR(250),
  CODIGO_POSTAL_TIENDA VARCHAR(250),
  CIUDAD_TIENDA VARCHAR(250),
  PAIS_TIENDA VARCHAR(250),
  TIENDA_PELICULA VARCHAR(250),
  NOMBRE_PELICULA VARCHAR(250),
  DESCRIPCION_PELICULA VARCHAR(250),
  ANO_LANZAMIENTO VARCHAR(250),
  DIAS_RENTA VARCHAR(250),
  COSTO_RENTA VARCHAR(250),
  DURACION VARCHAR(250),
  COSTO_POR_DANO VARCHAR(250),
  CLASIFICACION VARCHAR(250),
  LENGUAJE_PELICULA VARCHAR(250),
  CATEGORIA_PELICULA VARCHAR(250),
  ACTOR_PELICULA VARCHAR(250)
);

COPY TempData (
  NOMBRE_CLIENTE,
  CORREO_CLIENTE,
  CLIENTE_ACTIVO,
  FECHA_CREACION,
  TIENDA_PREFERIDA,
  DIRECCION_CLIENTE,
  CODIGO_POSTAL_CLIENTE,
  CIUDAD_CLIENTE,
  PAIS_CLIENTE,
  FECHA_RENTA,
  FECHA_RETORNO,
  MONTO_A_PAGAR,
  FECHA_PAGO,
  NOMBRE_EMPLEADO,
  CORREO_EMPLEADO,
  EMPLEADO_ACTIVO,
  TIENDA_EMPLEADO,
  USUARIO_EMPLEADO,
  CONTRASENA_EMPLEADO,
  DIRECCION_EMPLEADO,
  CODIGO_POSTAL_EMPLEADO,
  CIUDAD_EMPLEADO,
  PAIS_EMPLEADO,
  NOMBRE_TIENDA,
  ENCARGADO_TIENDA,
  DIRECCION_TIENDA,
  CODIGO_POSTAL_TIENDA,
  CIUDAD_TIENDA,
  PAIS_TIENDA,
  TIENDA_PELICULA,
  NOMBRE_PELICULA,
  DESCRIPCION_PELICULA,
  ANO_LANZAMIENTO,
  DIAS_RENTA,
  COSTO_RENTA,
  DURACION,
  COSTO_POR_DANO,
  CLASIFICACION,
  LENGUAJE_PELICULA,
  CATEGORIA_PELICULA,
  ACTOR_PELICULA
)
FROM '/Users/alex/Desktop/FIUSAC/MIA/practica01-mia/BlockbusterData.csv' DELIMITER ';' CSV HEADER;